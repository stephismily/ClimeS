<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>ğŸŒ Cinematic Weather Globe + Parallax Days</title>
    <meta name="viewport" content="width=device-width,initial-scale=1" />

    <!-- MAPBOX + GSAP -->
    <link
      href="https://api.mapbox.com/mapbox-gl-js/v3.15.0/mapbox-gl.css"
      rel="stylesheet"
    />
    <script src="https://api.mapbox.com/mapbox-gl-js/v3.15.0/mapbox-gl.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>

    <!-- Your global app stuff (navbar, etc.) -->
    <link rel="stylesheet" href="css/app.css" />
    <script src="js/app.js"></script>

    <!-- Globe-specific CSS -->
    <link rel="stylesheet" href="css/globe.css" />

    <!-- ğŸ”’ Hard block scroll + hide any intro overlays on this page -->
    <style>
      html,
      body {
        margin: 0;
        height: 100%;
        overflow: hidden; /* no page scrolling on globe.html */
        background: #000;
      }

      /* If your intro hero / overlay uses these selectors, kill them here */
      .overlay,
      .intro-hero,
      #introHero {
        display: none !important;
      }
    </style>
  </head>

  <body>
    <div class="app" id="app">
      <div id="map"></div>

      <!-- ğŸ” Floating search bar (top-left) -->
      <div class="search-container" id="searchContainer">
        <input
          id="searchInput"
          class="search-input"
          type="text"
          placeholder="Search places..."
          autocomplete="off"
        />
        <div id="searchResults" class="search-results"></div>
      </div>

      <!-- Weather card -->
      <div class="card" id="weatherCard">
        <iframe id="weatherAnim" class="weather-bg"></iframe>

        <div class="topbar">
          <button id="splitBtn">ğŸª„ Split View</button>
          <button id="closeBtn">âœ• Close</button>
        </div>

        <div class="info-overlay">
          <div class="info-content" id="infoContent">
            <div class="info-title" id="cardTitle">Loading...</div>
            <div class="info-sub" id="cardCoords"></div>

            <div class="metrics">
              <div class="metric">ğŸŒ¡ <span id="mTemp">-- Â°C</span></div>
              <div class="metric">ğŸ’§ <span id="mHum">-- %</span></div>
              <div class="metric">ğŸ’¨ <span id="mWind">-- m/s</span></div>
              <div class="metric">â˜ <span id="mCond">--</span></div>
            </div>

            <div class="day-label" id="dayLabel">Today</div>
          </div>
        </div>
      </div>
    </div>

    <script>
      // If this page is inside an iframe (embedded in index.html),
      // add a class so we can hide any extra header inside globe.html
      if (window.self !== window.top) {
        document.body.classList.add("embedded");
      }
    </script>

    <!-- Globe-specific JS -->
    <script src="js/globe.js"></script>

    <!-- âœ… Extra safety: in Split View, block any window scroll just in case -->
    <script>
      window.addEventListener(
        "wheel",
        function (e) {
          const app = document.getElementById("app");
          if (app && app.classList.contains("split")) {
            e.preventDefault();
          }
        },
        { passive: false }
      );
    </script>
  </body>
</html>
