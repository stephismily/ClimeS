<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title></title>

    <!-- External CSS -->
    <link rel="stylesheet" href="css/intro.css" />
    <link rel="stylesheet" href="css/app.css" />
    <script src="js/app.js"></script>

    <script type="importmap">
      {
        "imports": {
          "three": "https://unpkg.com/three@0.165.0/build/three.module.js",
          "three/addons/": "https://unpkg.com/three@0.165.0/examples/jsm/",
          "gsap": "https://cdn.jsdelivr.net/npm/gsap@3.12.5/index.js",
          "ScrollTrigger": "https://cdn.jsdelivr.net/npm/gsap@3.12.5/ScrollTrigger.js"
        }
      }
    </script>
  </head>
  <body>
    <canvas id="canvas"></canvas>
    <div class="overlay">Embark on Your Cosmic Journey</div>
    <button class="explore-btn" id="exploreBtn">Explore the Universe</button>
    <div class="scroll-area"></div>

    <!-- üåç Globe Section -->
    <div class="globe-section" id="globeSection">
      <iframe src="html/globe.html" class="globe-frame"></iframe>
    </div>

    <!-- External JS -->
    <script type="module" src="js/intro.js"></script>

    <!-- GSAP ScrollTo Plugin -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollToPlugin.min.js"></script>

    <!-- AUTH LOGIC -->
    <script>
      const authArea = document.getElementById("authArea");
      const token = localStorage.getItem("token");
      const user = JSON.parse(localStorage.getItem("user") || "null");

      if (token && user) {
        // ‚≠ê User Logged In
        authArea.innerHTML = `
          <span style="color:white; margin-right:15px;">
            Hi, ${user.name}
          </span>
          <button id="logoutBtn">Logout</button>
        `;

        document.getElementById("logoutBtn").addEventListener("click", () => {
          localStorage.removeItem("token");
          localStorage.removeItem("user");
          window.location.reload();
        });
      } else {
        // üö™ User NOT logged in
        authArea.innerHTML = `
          <button onclick="window.location.href='html/login.html'">
            Sign In / Sign Up
          </button>
        `;
      }
    </script>
  </body>
</html>
